____________________________________________________________________________________________________________________________________________

                                          5. Password Management
                                          
 __________________________________________________________________________________________________________________________________________
| POST	 /api/auth/change-password	            | Allows an authenticated user to change their password.
| POST	 /api/auth/forgot-password	            | Sends a password reset link or OTP to the user's email or phone.
| POST	 /api/auth/reset-password	            | Resets the password using a token (from email) or OTP (from SMS).
| POST	 /api/auth/resend-password-reset	    | Resends the password reset email or SMS OTP.
| POST	 /api/auth/validate-password-reset	    | Validates if a password reset token/OTP is still valid.
| POST	 /api/auth/confirm-password	            |  
|_______________________________________________|__________________________________________________________________________________________


____________________________________________________________________________________________________________________________________________
 
                                        Password Management Workflow  

This workflow describes how users can change, reset, and manage passwords securely.  

-----------------------------------------------------------------------------------------------------------
1️⃣ Password Change (Authenticated Users)
Used When: The user is logged in and wants to update their password.  
✅ Security: Requires the old password for verification.  

Flow:  
1. User submits request → POST /api/auth/change-password with old_password and new_password.  
2. System verifies old password and updates to new password.  
3. Success: The user gets a confirmation response, and all sessions may be invalidated.  

-----------------------------------------------------------------------------------------------------------
2️⃣ Password Reset (Forgot Password)
Used When: A user forgets their password and needs a reset link (email) or OTP (SMS).  

Flow:  
1. User submits request → POST /api/auth/forgot-password with email or phone number.  
2. System generates a password reset token and sends an email (with a reset link) or SMS (with an OTP).  
3. User clicks the reset link or enters the OTP → Redirects to password reset form.  

-----------------------------------------------------------------------------------------------------------
3️⃣ Reset Password (Token or OTP)
Used When: The user received a reset token (from email) or an OTP (from SMS).  

Flow:  
1. User submits request → POST /api/auth/reset-password with token or OTP and new_password.  
2. System verifies token/OTP and resets the password.  
3. Success: The user can now log in with the new password.  

-----------------------------------------------------------------------------------------------------------
4️⃣ Resend Password Reset Token
Used When: The user didn’t receive the password reset email/SMS.  

Flow:  
1. User submits request → POST /api/auth/resend-password-reset with email or phone number.  
2. System resends the password reset link (email) or OTP (SMS).  
3. Success: The user gets another reset option.  

-----------------------------------------------------------------------------------------------------------
5️⃣ Validate Password Reset Token
Used When: The user wants to check if their password reset token or OTP is still valid.  

Flow:  
1. User submits request → POST /api/auth/validate-password-reset with token or OTP.  
2. System checks if the token is valid and not expired.  
3. Response: ✅ Valid → Proceed with reset, ❌ Expired → Request a new one.  

-----------------------------------------------------------------------------------------------------------
Security Enhancements
✅ Token Expiration: Password reset tokens should expire within 10–15 minutes.  
✅ Rate Limiting: Limit the number of reset requests to prevent abuse.  
✅ Invalidate Sessions on Reset: Force logout on all devices after password reset.  
✅ 2FA (Optional): Require OTP verification before allowing password changes.  

-----------------------------------------------------------------------------------------------------------

_____________________________________________________________________________________________________________________________________________
